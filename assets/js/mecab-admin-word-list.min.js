!function($){"use strict";$(document).ready(function(){var e=$("#mecab-term-list"),t=$(".widefat","#mecab-term-list"),n=function(){t.find("tbody tr").length<1&&window.location.reload()},i=function(e,n){t.prev("div.updated, div.error").remove();var i=$("<div><p></p></div>");i.addClass(n?"error":"updated"),$.isArray(e)||(e=[e]),$.each(e,function(t,n){var o=$("<span></span>"),c=i.find("p");o.text(n),c.append(o),t+1<e.length&&c.append("<br />")}),t.before(i),i.effect("highlight",500)};e.on("click","a.delete-term",function(e){if(e.preventDefault(),window.confirm(MeCabWordList.confirm)){var t=$(this);$.post(MeCabWordList.endpoint,{_wpnonce:MeCabWordList.nonce,term_id:t.attr("data-term-id")}).done(function(e){e.success?(t.parents("tr").effect("highlight",300,function(){$(this).fadeOut(500,function(){$(this).remove()})}),n()):i(e.message,!0)}).fail(function(e,t,n){i(n,!0)})}}),e.on("click","#doaction, #doaction2",function(t){switch(t.preventDefault(),$(this).prev("select").val()){case"delete":if(window.confirm(MeCabWordList.confirm)){var o=[];e.find(".word-id-container:checked").each(function(e,t){o.push($(t).val())}),$.post(MeCabWordList.endpoint,{_wpnonce:MeCabWordList.nonce,term_id:o}).done(function(e){e.success&&($($.map(e.deleted,function(e){return"#word-"+e}).join(",")).parents("tr").effect("highlight",300,function(){$(this).fadeOut(500,function(){$(this).remove()})}),n()),e.message&&i(e.message,!e.success)}).fail(function(e,t,n){i(n,!0)})}}})})}(jQuery);